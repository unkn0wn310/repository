<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>x üçé o</title>
    <link href="" rel="stylesheet" type="text/css" media="all">
    <style>
      * {
        box-sizing: border-box;
        font-family:monospace;
        color:antiquewhite;
      }
      body {
        background-color:antiquewhite;
        background-image:url(https://i.pinimg.com/736x/f1/c2/3e/f1c23e4b0c095cb96e9c3020e38355cb.jpg);
        text-align:center;
      }
      #apple  {
        height:780px;
        width:auto;
        padding-top:220px;
        background-image:url(apple.png);
        background-size:1000px;
        background-position: center;
        background-repeat: no-repeat;
      }
      #container  {
        width:400px;
        margin:auto;
        border-radius: 30%;
        padding-top: 100px;
      }
      .cell {
        width:50px;
        height:50px;
        margin:0px;
        text-align:center;
        font-size:40px;
        border:1px solid antiquewhite;
        box-shadow: 0px 0px 0px 1px antiquewhite;
        cursor:pointer;
      }
      #cellContainer {
        width:150px;
        height:auto;
        margin:auto;
        display:grid;
        grid-template-columns:repeat(3,auto);
      }
      #restart{
        color:red;
      }
    </style>
  </head>
  <body>
    <div id="apple">
    <div id = "container">
        <h1>- naughts and crosses -</h1>
        <div id="cellContainer">
          <div cellIndex="0" class="cell"></div>
          <div cellIndex="1" class="cell"></div>
          <div cellIndex="2" class="cell"></div>
          <div cellIndex="3" class="cell"></div>
          <div cellIndex="4" class="cell"></div>
          <div cellIndex="5" class="cell"></div>
          <div cellIndex="6" class="cell"></div>
          <div cellIndex="7" class="cell"></div>
          <div cellIndex="8" class="cell"></div>
        </div>
        <h2 id="comment"></h2>
        <button id="restart">restart ?</button>
    </div>
    </div>
<script>
const cells = document.querySelectorAll(".cell");
const comment = document.querySelector("#comment");
const restart = document.querySelector("#restart");

const winConditions = [
  [0,1,2], 
  [3,4,5], 
  [6,7,8], 
  [0,3,6], 
  [1,4,7], 
  [2,5,8], 
  [0,4,8], 
  [2,4,6]
];  

let options= ["", "", "", "", "", "", "", "", "" ];
let currentPlayer = "x";
let running = false;

initialiseGame()

function initialiseGame() {
  cells.forEach(cell => cell.addEventListener("click", cellClicked));
  restart.addEventListener("click", restartGame);
  comment.textContent = `${currentPlayer}, it's ur turn !`;
  running = true;
}
function cellClicked() {
  const cellIndex = this.getAttribute("cellIndex");

  if (options[cellIndex] != "" || !running){
    return;
  }
  updateCell(this, cellIndex);
  changePlayer();
  checkWinner();
}
function updateCell(cell, index){
  options[index] = currentPlayer;
  cell.textContent = currentPlayer;
}
function changePlayer() {
  currentPlayer = (currentPlayer == "x")? "o" : "x";
  comment.textContent = `${currentPlayer}, it's ur turn !`
}
function checkWinner() {
  roundWon = false;

  for(let i = 0; i < winConditions.length; i++){
    const condition = winConditions[i];
    const cellA = options[condition[0]];
    const cellB = options[condition[1]];
    const cellC = options[condition[2]];

    if(cellA == "" || cellB == "" || cellC == ""){
      continue;
    }
    if(cellA == cellB && cellB == cellC){
      roundWon = true;
      break;
    }
  }

  if (roundWon){
    changePlayer()
    comment.textContent = `player ${currentPlayer} is a winner !`
    running = false;
  }
  else if(!options.includes("")){
    comment.textContent = "draw !";
  }
}
function restartGame() {
  currentPlayer = "x";
  let options= ["", "", "", "", "", "", "", "", "" ];
  comment.textContent = `it's ${currentPlayer}'s turn !`;
  cells.forEach(cell => cell.textContent = "");
  running = true;
}

</script>
  </body>
</html>